import{aI as sn,aJ as an,aK as j,aL as F,a6 as q,aM as un,aN as l,a8 as on,aO as $,aP as E,aQ as cn,aR as y,aS as yn,aT as rn,aU as en}from"./index-B8Niws7R.js";function fn(i){return i.innerRadius}function ln(i){return i.outerRadius}function gn(i){return i.startAngle}function pn(i){return i.endAngle}function xn(i){return i&&i.padAngle}function mn(i,d,C,L,v,B,D,a){var I=C-i,r=L-d,n=D-v,p=a-B,u=p*I-n*r;if(!(u*u<l))return u=(n*(d-B)-p*(i-v))/u,[i+u*I,d+u*r]}function X(i,d,C,L,v,B,D){var a=i-C,I=d-L,r=(D?B:-B)/$(a*a+I*I),n=r*I,p=-r*a,u=i+n,s=d+p,e=C+n,f=L+p,H=(u+e)/2,o=(s+f)/2,x=e-u,g=f-s,T=x*x+g*g,A=v-B,O=u*f-e*s,M=(g<0?-1:1)*$(yn(0,A*A*T-O*O)),P=(O*g-x*M)/T,S=(-O*x-g*M)/T,R=(O*g+x*M)/T,m=(-O*x+g*M)/T,h=P-H,t=S-o,c=R-H,_=m-o;return h*h+t*t>c*c+_*_&&(P=R,S=m),{cx:P,cy:S,x01:-n,y01:-p,x11:P*(v/A-1),y11:S*(v/A-1)}}function dn(){var i=fn,d=ln,C=q(0),L=null,v=gn,B=pn,D=xn,a=null,I=sn(r);function r(){var n,p,u=+i.apply(this,arguments),s=+d.apply(this,arguments),e=v.apply(this,arguments)-un,f=B.apply(this,arguments)-un,H=cn(f-e),o=f>e;if(a||(a=n=I()),s<u&&(p=s,s=u,u=p),!(s>l))a.moveTo(0,0);else if(H>on-l)a.moveTo(s*j(e),s*F(e)),a.arc(0,0,s,e,f,!o),u>l&&(a.moveTo(u*j(f),u*F(f)),a.arc(0,0,u,f,e,o));else{var x=e,g=f,T=e,A=f,O=H,M=H,P=D.apply(this,arguments)/2,S=P>l&&(L?+L.apply(this,arguments):$(u*u+s*s)),R=E(cn(s-u)/2,+C.apply(this,arguments)),m=R,h=R,t,c;if(S>l){var _=rn(S/u*F(P)),b=rn(S/s*F(P));(O-=_*2)>l?(_*=o?1:-1,T+=_,A-=_):(O=0,T=A=(e+f)/2),(M-=b*2)>l?(b*=o?1:-1,x+=b,g-=b):(M=0,x=g=(e+f)/2)}var k=s*j(x),z=s*F(x),G=u*j(A),N=u*F(A);if(R>l){var Q=s*j(g),U=s*F(g),Y=u*j(T),Z=u*F(T),W;if(H<an)if(W=mn(k,z,Y,Z,Q,U,G,N)){var V=k-W[0],J=z-W[1],K=Q-W[0],w=U-W[1],nn=1/F(en((V*K+J*w)/($(V*V+J*J)*$(K*K+w*w)))/2),tn=$(W[0]*W[0]+W[1]*W[1]);m=E(R,(u-tn)/(nn-1)),h=E(R,(s-tn)/(nn+1))}else m=h=0}M>l?h>l?(t=X(Y,Z,k,z,s,h,o),c=X(Q,U,G,N,s,h,o),a.moveTo(t.cx+t.x01,t.cy+t.y01),h<R?a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,h,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,s,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),!o),a.arc(c.cx,c.cy,h,y(c.y11,c.x11),y(c.y01,c.x01),!o))):(a.moveTo(k,z),a.arc(0,0,s,x,g,!o)):a.moveTo(k,z),!(u>l)||!(O>l)?a.lineTo(G,N):m>l?(t=X(G,N,Q,U,u,-m,o),c=X(k,z,Y,Z,u,-m,o),a.lineTo(t.cx+t.x01,t.cy+t.y01),m<R?a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(c.y01,c.x01),!o):(a.arc(t.cx,t.cy,m,y(t.y01,t.x01),y(t.y11,t.x11),!o),a.arc(0,0,u,y(t.cy+t.y11,t.cx+t.x11),y(c.cy+c.y11,c.cx+c.x11),o),a.arc(c.cx,c.cy,m,y(c.y11,c.x11),y(c.y01,c.x01),!o))):a.arc(0,0,u,A,T,o)}if(a.closePath(),n)return a=null,n+""||null}return r.centroid=function(){var n=(+i.apply(this,arguments)+ +d.apply(this,arguments))/2,p=(+v.apply(this,arguments)+ +B.apply(this,arguments))/2-an/2;return[j(p)*n,F(p)*n]},r.innerRadius=function(n){return arguments.length?(i=typeof n=="function"?n:q(+n),r):i},r.outerRadius=function(n){return arguments.length?(d=typeof n=="function"?n:q(+n),r):d},r.cornerRadius=function(n){return arguments.length?(C=typeof n=="function"?n:q(+n),r):C},r.padRadius=function(n){return arguments.length?(L=n==null?null:typeof n=="function"?n:q(+n),r):L},r.startAngle=function(n){return arguments.length?(v=typeof n=="function"?n:q(+n),r):v},r.endAngle=function(n){return arguments.length?(B=typeof n=="function"?n:q(+n),r):B},r.padAngle=function(n){return arguments.length?(D=typeof n=="function"?n:q(+n),r):D},r.context=function(n){return arguments.length?(a=n??null,r):a},r}export{dn as h};
